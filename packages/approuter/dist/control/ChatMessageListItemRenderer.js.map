{"version":3,"file":"ChatMessageListItemRenderer.js","names":["showdown","showdownHighlight","ChatMessageListItemRenderer","Renderer","extend","renderLIContent","rm","control","openStart","class","openEnd","unsafeHtml","markdownToHtml","getMessage","close","renderControl","getAggregation","Text","text","getSender","getDate","converter","Converter","extensions","pre","auto_detection","setFlavor","makeHtml"],"sources":["ChatMessageListItemRenderer.ts"],"sourcesContent":["import RenderManager from \"sap/ui/core/RenderManager\";\nimport ListItemBase from \"sap/m/ListItemBase\";\nimport Renderer from \"sap/ui/core/Renderer\";\nimport MessageListItem from \"./ChatMessageListItem\";\nimport Text from \"sap/m/Text\";\nimport Avatar from \"sap/m/Avatar\";\nimport showdown from \"showdown\";\nimport showdownHighlight from \"showdown-highlight/lib/index\";\n\n// Workaround for missing type definitions\ninterface ListItemBaseRenderer {\n  renderLIContent(rm: RenderManager, control: ListItemBase): void;\n  markdownToHtml(text: string): string;\n}\n\nconst ChatMessageListItemRenderer = <ListItemBaseRenderer>Renderer.extend(\"sap.m.ListItemBaseRenderer\");\nChatMessageListItemRenderer.renderLIContent = (rm: RenderManager, control: MessageListItem) => {\n  rm.openStart(\"div\").class(\"sapMMessageListItem\").openEnd();\n  rm.openStart(\"div\").class(\"sapMMessageListItemText\").openEnd();\n  rm.unsafeHtml(ChatMessageListItemRenderer.markdownToHtml(control.getMessage()));\n  rm.close(\"div\");\n\n  rm.openStart(\"div\").class(\"sapMMessageListItemHeader\").openEnd();\n  rm.renderControl(<Avatar>control.getAggregation(\"avatar\"));\n\n  rm.openStart(\"div\").class(\"sapMMessageListItemInfo\").openEnd();\n  rm.renderControl(<Text>new Text({ text: control.getSender() }));\n  rm.renderControl(<Text>new Text({ text: \"|\" }));\n  rm.renderControl(<Text>new Text({ text: control.getDate() }));\n  rm.close(\"div\");\n\n  rm.close(\"div\");\n  rm.close(\"div\");\n};\n\nChatMessageListItemRenderer.markdownToHtml = (text: string): string => {\n  const converter = new showdown.Converter({\n    extensions: [\n      showdownHighlight({\n        pre: true,\n        auto_detection: true,\n      }),\n    ],\n  });\n  converter.setFlavor(\"github\");\n  return converter.makeHtml(text);\n};\n\nexport default ChatMessageListItemRenderer;\n"],"mappings":";;;;QAMOA,QAAQ;EAAA,MACRC,iBAAiB,gDAExB;EAMA,MAAMC,2BAA2B,GAAyBC,QAAQ,CAACC,MAAM,CAAC,4BAA4B,CAAC;EACvGF,2BAA2B,CAACG,eAAe,GAAG,CAACC,EAAiB,EAAEC,OAAwB,KAAK;IAC7FD,EAAE,CAACE,SAAS,CAAC,KAAK,CAAC,CAACC,KAAK,CAAC,qBAAqB,CAAC,CAACC,OAAO,EAAE;IAC1DJ,EAAE,CAACE,SAAS,CAAC,KAAK,CAAC,CAACC,KAAK,CAAC,yBAAyB,CAAC,CAACC,OAAO,EAAE;IAC9DJ,EAAE,CAACK,UAAU,CAACT,2BAA2B,CAACU,cAAc,CAACL,OAAO,CAACM,UAAU,EAAE,CAAC,CAAC;IAC/EP,EAAE,CAACQ,KAAK,CAAC,KAAK,CAAC;IAEfR,EAAE,CAACE,SAAS,CAAC,KAAK,CAAC,CAACC,KAAK,CAAC,2BAA2B,CAAC,CAACC,OAAO,EAAE;IAChEJ,EAAE,CAACS,aAAa,CAASR,OAAO,CAACS,cAAc,CAAC,QAAQ,CAAC,CAAC;IAE1DV,EAAE,CAACE,SAAS,CAAC,KAAK,CAAC,CAACC,KAAK,CAAC,yBAAyB,CAAC,CAACC,OAAO,EAAE;IAC9DJ,EAAE,CAACS,aAAa,CAAO,IAAIE,IAAI,CAAC;MAAEC,IAAI,EAAEX,OAAO,CAACY,SAAS;IAAG,CAAC,CAAC,CAAC;IAC/Db,EAAE,CAACS,aAAa,CAAO,IAAIE,IAAI,CAAC;MAAEC,IAAI,EAAE;IAAI,CAAC,CAAC,CAAC;IAC/CZ,EAAE,CAACS,aAAa,CAAO,IAAIE,IAAI,CAAC;MAAEC,IAAI,EAAEX,OAAO,CAACa,OAAO;IAAG,CAAC,CAAC,CAAC;IAC7Dd,EAAE,CAACQ,KAAK,CAAC,KAAK,CAAC;IAEfR,EAAE,CAACQ,KAAK,CAAC,KAAK,CAAC;IACfR,EAAE,CAACQ,KAAK,CAAC,KAAK,CAAC;EACjB,CAAC;EAEDZ,2BAA2B,CAACU,cAAc,GAAIM,IAAY,IAAa;IACrE,MAAMG,SAAS,GAAG,IAAIrB,QAAQ,CAACsB,SAAS,CAAC;MACvCC,UAAU,EAAE,CACVtB,iBAAiB,CAAC;QAChBuB,GAAG,EAAE,IAAI;QACTC,cAAc,EAAE;MAClB,CAAC,CAAC;IAEN,CAAC,CAAC;IACFJ,SAAS,CAACK,SAAS,CAAC,QAAQ,CAAC;IAC7B,OAAOL,SAAS,CAACM,QAAQ,CAACT,IAAI,CAAC;EACjC,CAAC;EAAC,OAEahB,2BAA2B;AAAA"}