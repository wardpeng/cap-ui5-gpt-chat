{"version":3,"file":"UserModel.js","names":["UserModel","JSONModel","initialize","res","fetch","sap","ui","require","toUrl","ok","data","json","setData","setProperty","getUser","getData"],"sources":["UserModel.ts"],"sourcesContent":["import JSONModel from \"sap/ui/model/json/JSONModel\";\n\nexport type IUser = {\n  displayName: string;\n  // extend with other parameters if needed\n};\n\nexport default class UserModel extends JSONModel {\n  /**\n   * Initializes the user model by calling the user-api.\n   * If the user-api is not available, the user is unknown.\n   */\n  public async initialize(): Promise<void> {\n    const res = await fetch(sap.ui.require.toUrl(\"com/p36/capui5gptchat/user-api/currentUser\"));\n    if ((<Response>res)?.ok) {\n      const data = (await (<Response>res).json()) as object;\n      this.setData(data);\n    } else {\n      this.setProperty(\"/displayName\", \"unknown\");\n    }\n  }\n\n  getUser(): IUser {\n    return this.getData();\n  }\n}\n"],"mappings":";EAOe,MAAMA,SAAS,SAASC,SAAS,CAAC;IAC/C;AACF;AACA;AACA;IACE,MAAaC,UAAU,GAAkB;MACvC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACC,GAAG,CAACC,EAAE,CAACC,OAAO,CAACC,KAAK,CAAC,4CAA4C,CAAC,CAAC;MAC3F,IAAeL,GAAG,EAAGM,EAAE,EAAE;QACvB,MAAMC,IAAI,GAAI,MAAiBP,GAAG,CAAEQ,IAAI,EAAa;QACrD,IAAI,CAACC,OAAO,CAACF,IAAI,CAAC;MACpB,CAAC,MAAM;QACL,IAAI,CAACG,WAAW,CAAC,cAAc,EAAE,SAAS,CAAC;MAC7C;IACF;IAEAC,OAAO,GAAU;MACf,OAAO,IAAI,CAACC,OAAO,EAAE;IACvB;EACF;EAAC;AAAA"}